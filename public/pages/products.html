<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link href="https://cdn.jsdelivr.net/npm/remixicon@4.2.0/fonts/remixicon.css" rel="stylesheet" />
  <link rel="stylesheet" href="css/styles.css" />
  <title>Web Design Mastery | Products</title>
</head>

<body>
  <!-- Navigation Bar -->
  <nav>
    <div class="nav__header">
      <div class="nav__logo">
        <a href="#">
          <img src="assets/logo-dark.png" alt="logo-dark" class="logo-dark" />
          <img src="assets/logo-white.png" alt="logo-white" class="logo-white" />
        </a>
      </div>
      <div class="nav__menu__btn" id="menu-btn">
        <i class="ri-menu-line"></i>
      </div>
    </div>
    <ul class="nav__links" id="nav-links">
      <li><a href="/">Home</a></li>
      <li><a href="/products">Products</a></li>
      <li><a href="/about">About Us</a></li>
      <li><a href="/contact">Contact Us</a></li>
      <li><a href="/cart"><i class="ri-shopping-cart-line"></i></a></li>
    </ul>
  </nav>

  <!-- Products Section -->
  <section class="section__container products__container" id="products">
    <h2 class="section__header">OUR PRODUCTS</h2>
    <div class="products__grid" id="products-container"></div>

    <!-- <div class="products__grid">
      <div class="product__card" data-id="1">
        <img src="assets/arrival-1.png" alt="ADERTICA Watch" />
        <h4>ADERTICA</h4>
        <p>$780</p>
        <button class="btn add-to-cart">ADD TO CART</button>
      </div>
      <div class="product__card" data-id="2">
        <img src="assets/arrival-2.png" alt="KERAKATCHI Watch" />
        <h4>KERAKATCHI</h4>
        <p>$950</p>
        <button class="btn add-to-cart">ADD TO CART</button>
      </div>
      <div class="product__card" data-id="3">
        <img src="assets/arrival-3.png" alt="CITIZEN Watch" />
        <h4>CITIZEN</h4>
        <p>$678</p>
        <button class="btn add-to-cart">ADD TO CART</button>
      </div>
      <div class="product__card" data-id="4">
        <img src="assets/arrival-4.png" alt="TERJAN GOLD Watch" />
        <h4>TERJAN GOLD</h4>
        <p>$890</p>
        <button class="btn add-to-cart">ADD TO CART</button>
      </div>



      <div class="product__card" data-id="4">
        <img src="assets/arrival-4.png" alt="product" />
        <h4>TERJAN GOLD</h4>
        <p>$890</p>
        <button class="btn add-to-cart">ADD TO CART</button>
      </div>
      <div class="product__card" data-id="5">
        <img src="assets/arrival-8.jpg" alt="product" />
        <h4>SHEPARD PINK</h4>
        <p>$589</p>
        <button class="btn add-to-cart">ADD TO CART</button>
      </div>
      <div class="product__card" data-id="6">
        <img src="assets/arrival-9.jpg" alt="product" />
        <h4>TITAN BLACK</h4>
        <p>$678</p>
        <button class="btn add-to-cart">ADD TO CART</button>
      </div>
      <div class="product__card" data-id="7">
        <img src="assets/arrival-10.jpg" alt="product" />
        <h4>TITAN BLACK</h4>
        <p>$678</p>
        <button class="btn add-to-cart">ADD TO CART</button>
      </div>

    </div> -->
  </section>

  <!-- Footer -->
  <footer class="footer">
    <div class="section__container footer__container">
      <div class="footer__col">
        <h4>Our Information</h4>
        <ul class="footer__links">
          <li><a href="#">Return Policy</a></li>
          <li><a href="#">Privacy Policy</a></li>
          <li><a href="#">Terms & Condition</a></li>
          <li><a href="#">Site Map</a></li>
          <li><a href="#">Store House</a></li>
        </ul>
      </div>
      <div class="footer__col">
        <h4>About Us</h4>
        <ul class="footer__links">
          <li><a href="#">Support Center</a></li>
          <li><a href="#">Customer Support</a></li>
          <li><a href="#">About Us</a></li>
          <li><a href="#">Copy Right</a></li>
          <li><a href="#">Popular Campaign</a></li>
        </ul>
      </div>
      <div class="footer__col">
        <h4>Product</h4>
        <ul class="footer__links">
          <li><a href="#">Sports Watches</a></li>
          <li><a href="#">Cornographic Watches</a></li>
          <li><a href="#">Digital Watches</a></li>
          <li><a href="#">Mechanical Watches</a></li>
          <li><a href="#">Accessories</a></li>
        </ul>
      </div>
      <div class="footer__col">
        <h4>Support</h4>
        <ul class="footer__links">
          <li><a href="#">Product Help</a></li>
          <li><a href="#">Service & Warranty</a></li>
          <li><a href="#">Righting Beats</a></li>
          <li><a href="#">Authorizes Service</a></li>
          <li><a href="#">Customer Care</a></li>
        </ul>
      </div>
    </div>
    <div class="footer__bar">
      Copyright Â© 2024 Web Design Mastery. All rights reserved.
    </div>
  </footer>

  <script>
    document.addEventListener("DOMContentLoaded", () => {
  const productsContainer = document.getElementById("products-container");

  fetch("http://localhost:3000/api/products")
    .then((response) => response.json())
    .then((products) => {
      productsContainer.innerHTML = products
        .map(
          (product) => `
        <div class="product__card" data-id="${product.id}">
          <img src="${product.image}" alt="${product.name}" />
          <h4>${product.name}</h4>
          <p>$${product.price}</p>
          <button class="btn add-to-cart">ADD TO CART</button>
        </div>
      `
        )
        .join("");

      // Add event listeners for "Add to Cart" buttons
      document.querySelectorAll(".add-to-cart").forEach((button) => {
        button.addEventListener("click", (event) => {
          const productCard = event.target.closest(".product__card");
          const product = {
            id: productCard.dataset.id,
            name: productCard.querySelector("h4").innerText,
            price: productCard.querySelector("p").innerText.replace("$", ""),
            image: productCard.querySelector("img").src,
            quantity: 1, // Default quantity
          };

          // Send product data to server
          fetch("http://localhost:3000/api/add-to-cart", {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify(product),
          })
            .then((response) => response.json())
            .then((data) => {
              alert(data.message);
            })
            .catch((error) => console.error("Error:", error));
        });
      });
    })
    .catch((error) => console.error("Error fetching products:", error));
});


    document.addEventListener("DOMContentLoaded", () => {
      const cartButtons = document.querySelectorAll(".add-to-cart");

      cartButtons.forEach((button) => {
        button.addEventListener("click", (event) => {
          const productCard = event.target.closest(".product__card");
          const product = {
            id: productCard.dataset.id,
            name: productCard.querySelector("h4").innerText,
            price: productCard.querySelector("p").innerText.replace("$", ""),
            image: productCard.querySelector("img").src,
            quantity: 1, // Default quantity
          };

          // Send product data to server
          fetch("/add-to-cart", {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify(product),
          })
            .then((response) => response.json())
            .then((data) => {
              alert(data.message);
            })
            .catch((error) => console.error("Error:", error));
        });
      });
    });
  </script>



</body>

</html>